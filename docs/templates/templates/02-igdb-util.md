---
title: IGDB Util Class
overview: The utility class and it's helper methods.
icon: fa-hard-hat
color: purple
---

# IGDB Util

The utility class contains a few helper methods to interact with the API or the data from the database.

## Authenticate
`public static authenticate(string $client_id, string $client_secret) throws Exception: object`

The authenticate method helps to you generate you `client secret` by sending a request to the Twitch API. If your tokens are valid, the method will return an object, containing your client secret. If something went wrong, an `Exception` will be thrown.

**Parameters**:
 - `$client_id`: your client id from Twitch
 - `$client_secret`: your application's client secret generated by Twitch

**Returns**: an object from the response from the Twitch API.

```php
<?php

    require_once "src/IGDBUtil.php";

    try {
        var_dump(IGDBUtil::authenticate("{client_id}", "{client_secret}"));
    } catch (Exception $e) {
        // request failed
        echo $e->getMessage();
    }

>
```

If your credentials are invalid an `Exception` will be thrown with the details of the issue. Otherwise the method will return an object decoded from the response json.

```text
object(stdClass)[1]
  public 'access_token' => string '{access_token}' (length=30)
  public 'expires_in' => int 5601038
  public 'token_type' => string 'bearer' (length=6)
```

## Image URL
`public static function image_url(string $image_id, string $size) throws InvalidArgumentException: string`

The image_url method will help you to parse an URL to a specific image size from the image id. If an unsupported image size is passed as `$size` an `InvalidArgumentException` will be thrown.

**Parameters**:
 - `$image_id`: the image_id of the image you are trying to resize. Make sure to pass image_id instead of id!
 - `$size`: a size string from the [documentation](https://api-docs.igdb.com/#images)

**Returns**: the url to the image as a string

```php
<?php

    require_once "IGDB.php";
    require_once "IGDBUtil.php";

    $igdb = new IGDB("{client_id}", "{access_token}");

    try {
        // fetching one record from the database with expander to gather the cover object as well
        $result = $igdb->game('search "uncharted 4"; fields id,name,cover.*; limit 1;');

        // printing the result object
        var_dump($result);

        // printing the default image url coming from the cover object
        echo $result[0]->cover->url;

        // printing the resized image url parsed by the IGDBUtil::image_url method
        // make sure to pass the image_id property, not the id!
        echo IGDBUtil::image_url($result[0]->cover->image_id, "720p");
    } catch (IGDBEndpointException $e) {
        // query failed
        echo $e->getMessage();
    } catch (InvaildArgumentException $e) {
        // $size parameter is not valid
        echo $e->getMessage();
    }

?>
```

Since the query in this code is correct, the output of it will be as below:

```text
array (size=1)
  0 =>
    object(stdClass)[2]
      public 'id' => int 7331
      public 'cover' =>
        object(stdClass)[3]
          public 'id' => int 81917
          public 'alpha_channel' => boolean false
          public 'animated' => boolean false
          public 'game' => int 7331
          public 'height' => int 960
          public 'image_id' => string 'co1r7h' (length=6)
          public 'url' => string '//images.igdb.com/igdb/image/upload/t_thumb/co1r7h.jpg' (length=54)
          public 'width' => int 720
          public 'checksum' => string 'd2893576-b1fe-06e2-c813-2896e1bba9a1' (length=36)
      public 'name' => string 'Uncharted 4: A Thief's End' (length=26)
//images.igdb.com/igdb/image/upload/t_thumb/co1r7h.jpg
https://images.igdb.com/igdb/image/upload/t_720p/co1r7h.jpg
```